<div class="container">
    <h1 class="text-center mt-3">Detalles de la Rendicion</h1>
    <div class="row" *ngIf="detalleRendicion">       
        
        <!--Boton Nuevo-->
        <div class="col-12 offset-md-9 col-md-3">
            <div class="d-grid gap-2 mt-3">
                <button class="btn e-segundo-boton" (click)="verDetalleI()">Detalle de Inventario</button>
            </div>
        </div>
        <!--Boton Nuevo-->
        <div class="col-12 offset-md-9 col-md-3">
            <div class="d-grid gap-2 mt-3">
                <button class="btn e-segundo-boton" (click)="verDetalleR()">Detalle de Caja</button>
            </div>
        </div>
        
        <div class="col-12">
            <br>
            <br>
            <br>
            <p class="fw-bold text-warning" routerLink="../../inventarios">Regresar a la pagina anterior</p>
        </div>
    </div>
</div>


<app-modal
[modalId]="modDetalleI"
[modalTama単o]="'pantallaCompleta'"
[titulo]="'Detalle de Inventario'"
*ngIf="detalleRendicion"
>

    <div class="row">
        <div class="col-12">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th class="text-center">Producto</th>
                            <th class="text-center">Apertura</th>
                            <th class="text-center">Cierre</th>
                            <th class="text-center">Recepcion</th>
                            <th class="text-center">Salida</th>
                            <th class="text-center">Precio</th>
                            <th class="text-center">Recepcion</th>
                            <th class="text-center">Salida</th>
                        </tr>
                    </thead>
                    <tbody *ngFor="let i of detalleRendicion.detalleInventario">
                        <tr>
                            <td class="text-start">{{i.Producto.nombre}}</td>
                            <td class="text-center">{{i.cantidadApertura | number}}</td>
                            <td class="text-center">{{i.cantidadCierre | number}}</td>
                            <td class="text-center">{{i.cantidadRecepcion | number}}</td>
                            <td class="text-center">{{i.cantidadSalida | number}}</td>
                            <td class="text-end fw-bold">{{i.precio | number}}</td>
                            <td class="text-center"><button (click)="verDetalleRecep(i.idproducto)" class="btn btn-warning"><i class="bi bi-box-arrow-in-left"></i></button></td>
                            <td class="text-center"><button (click)="verDetalleSalida(i.idproducto)" class="btn btn-secondary"><i class="bi bi-box-arrow-right"></i></button></td>
                         
                        </tr>
                        
                    </tbody>
                </table>
            </div>
        </div>

    </div>
</app-modal>

<app-modal
[modalId]="modDetalleR"
[modalTama単o]="'pantallaCompleta'"
[titulo]="'Detalle de Caja'"
*ngIf="detalleRendicion"
>
    <div class="row">
        <div class="col-12">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th class="text-center">Dinero</th>
                            <th class="text-center">Cantidad Apertura</th>
                            <th class="text-center">Cantidad Cierre</th>
                            <th class="text-center">Total Apertura</th>
                            <th class="text-center">Total Cierre</th>
                        </tr>
                    </thead>
                    <tbody *ngFor="let i of detalleRendicion.detalleRendicion">
                        <tr>
                            <td class="text-start">{{i.Dinero.nombreBillete}}</td>
                            <td class="text-center">{{i.cantidadApertura | number}}</td>
                            <td class="text-center">{{i.cantidadCierre | number}}</td>
                            <td class="text-end">{{i.totalApertura | number}}</td>
                            <td class="text-end">{{i.totalCierre | number}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </div>
</app-modal>

<!--prueba temporal-->

<app-modal
[modalId]="modDetalleRec"
[modalTama単o]="'pantallaCompleta'"
[titulo]="'Detalle de Recepciones'"
>
    <div class="row" *ngIf="detalleRecepcion">
        <div class="col-12">
            <div class="table table-striped table-hover">
                <table class="table hover">
                    <thead>
                        <tr>
                            <th class="text-center">Producto</th>
                            <th class="text-center">Cantidad</th>
                            <th class="text-center">Total</th>
                            <th class="text-center">Fecha</th>
                            <th class="text-center">Observacion</th>
                            <th class="text-center">Usuario</th>
                            <th class="text-center">Nro Comprobante</th>
                        </tr>
                    </thead>
                    <tbody *ngFor="let i of detalleRecepcion">
                        <tr>
                            <td class="text-start">{{i.Producto.nombre}}</td>
                            <td class="text-center">{{i.cantidad | number}}</td>
                            <td class="text-end">{{i.total | number}}</td>
                            <td class="text-start">{{i.Crecepcion.fecha | date}}</td>
                            <td class="text-start">{{i.Crecepcion.observacion}}</td>
                            <td class="text-start">{{i.Crecepcion.Usuario.nombre}}</td>
                            <td class="text-center">{{i.Crecepcion.nroComprobante}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</app-modal>

<app-modal
[modalId]="modDetalleSalida"
[modalTama単o]="'pantallaCompleta'"
[titulo]="'Detalle de Salidas'"
>

    <div class="row" *ngIf="detalleSalida">
        <div class="col-12">
            <div class="table-responsive">
                <table class="table hover">
                    <thead>
                        <tr>
                            <th class="text-center">Producto</th>
                            <th class="text-center">Cantidad</th>
                            <th class="text-center">Total</th>
                            <th class="text-center">Fecha</th>
                            <th class="text-center">Observacion</th>
                            <th class="text-center">Usuario</th>
                            <th class="text-center">Tipo Salida</th>
                        </tr>
                    </thead>
                    <tbody *ngFor="let i of detalleSalida">
                        <tr>
                            <td class="text-start">{{i.Producto.nombre}}</td>
                            <td class="text-center">{{i.cantidad | number}}</td>
                            <td class="text-end">{{i.total | number}}</td>
                            <td class="text-start">{{i.Csalida.fecha | date}}</td>
                            <td class="text-start">{{i.Csalida.observacion}}</td>
                            <td class="text-start">{{i.Csalida.Usuario.nombre}}</td>
                            <td class="text-start">{{i.Salida.descripcion}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</app-modal> 